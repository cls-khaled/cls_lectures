<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise </title>
</head>
<body>
    
    <h3 id="title1" style="visibility: hidden;"> Title 1</h3>
    <h3 id="title2" style="visibility: hidden;"> Title 2</h3>
    <h3 id="title3" style="visibility: hidden;"> Title 3</h3>
    <h3 id="title4" style="visibility: hidden;"> Title 4</h3>


    <script>

/*====== Asyncronous ================================================*/
        // setTimeout(function(){
           
        //     document.getElementById("title1").style.visibility="visible";

        // },1000)

        //     setTimeout(function(){
           
        //     document.getElementById("title2").style.visibility="visible";

        // },1000)


        //     setTimeout(function(){
           
        //     document.getElementById("title3").style.visibility="visible";

        // },1000)


        /* Syncronous By Call Back  */
        /*الكود سىء جداااااااااااا يسمي بال Call Back Hell 
          علشان كده تم اختراع ال 
          promise 
        */


        // setTimeout(function(){
           
        //      document.getElementById("title1").style.visibility="visible";

        //          setTimeout(function(){
           
        //      document.getElementById("title2").style.visibility="visible";

        //          setTimeout(function(){
           
        //      document.getElementById("title3").style.visibility="visible";

        //          setTimeout(function(){
           
        //      document.getElementById("title4").style.visibility="visible";

        //  },1000)


        //  },1000)



        //  },1000 )



        //  },1000)


        /*======  01- Create Promise ==================*/

        let p=new Promise(function(resolve,reject){

            isSuccess=false;
            if(isSuccess)
        {
           
            console.log("Calling Resolve ............ ");

            
          resolve();
        }
        else
        {
            reject();

             console.log("Calling Reject  ");
        }
        })



        console.log("After the Promsie Creation and  and Before then  and Catch ");
        /*=== 02-  call Promise and using  then */

        p.then(function(){
            /* resolve Go To then */
            console.log("Calling then ... .......................");
        }).catch(function(){

            /* reject Go to Catch */
            console.log("eror ...............");
        })


       /*===============  Promise By SetTimeOut ============================ */ 


        /*======  01- Create Promise ==================*/

        console.log("================ Promise By SetTimeOut =====================");
        let PByTimeOut=new Promise(function(resolve,reject){

        console.log("Start the async Code ");

        setTimeout(function(){
           
        document.getElementById("title1").style.visibility="visible";

        console.log(" Resolveeeeeeeeeeeee");
        resolve();


                console.log(" Rejected ");
                reject();

        },2000)


        })


        //----------------------------------------------

        console.log("After the Promsie Creation and  and Before then  and Catch ");
        /*=== 02-  call Promise and using  then */

        // PByTimeOutp.then(function(){
        //     /* resolve Go To then */
        //     console.log("Calling then ...");
        // }).catch(function(){

        //     /* reject Go to Catch */
        //     console.log("eror ...............");
        // })


  PByTimeOut.then(function(){
            /* resolve Go To then */
            console.log("Calling then ...");
        }).catch(function(errorMessage){

            /* reject Go to Catch */
            console.log("eror Is : "+errorMessage);
        })

    </script>
</body>
</html>